<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../js/select.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/option.js" type="text/javascript" charset="utf-8"></script>
    <link href="../css/table.css" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script src="../js/bootstrap.min.js"></script>
</head>
<body>

<input type="text" id="myInput" onkeyup="myFunction()" placeholder="搜索...">
<a href="javascript:showAddInput();">添加数据</a>
<div class="table-responsive">
    <span id="spanFirstt">第一页</span> <span id="spanPret">上一页</span> <span id="spanNextt">下一页</span> <span id="spanLastt">最后一页</span> 第<span id="spanPageNumt"></span>页/共<span id="spanTotalPaget"></span>页
    <table id="myTable" class="table table-striped">
        <tr class="header">
            <th style="width:5%;" class="id1">编号</th>
            <th style="width:30%;" class="title1">论文题目</th>
            <th style="width:20%;" class="link1">原文链接</th>
            <th style="width:15%;" class="key1">关键词</th>
            <th style="width:20%;" class="summer1">概述</th>
            <th style="width:10%;" class="operate1">操作</th>
        </tr>
        <tr>
            <td>1</td>
            <td>Germany</td>
            <td> 原文链接 </td>
            <td>Germany</td>
            <td>Germany</td>
            <td>
                <a style="color:blue;cursor:pointer;" onclick="updateRow(this);" >修改</a>
                &nbsp<a style="color:blue;cursor:pointer;" onclick="delRow(this);">删除</a>
            </td>
        </tr>
        <tr>
            <td>Berglunds 222222222222222222222222222222222222222</td>
            <td>Sweden</td>
            <td> 原文链接 </td>
            <td>Germany</td>
            <td>G`@*ermany`</td>
            <td>
                <a style="color:blue;cursor:pointer;" onclick="updateRow(this);" >修改</a>
                &nbsp<a style="color:blue;cursor:pointer;" onclick="delRow(this);">删除</a>
            </td>
        </tr>
        <tr>
            <td>Island Trading</td>
            <td>UK</td>
            <td> 原文链接 </td>
            <td>Germany</td>
            <td>Germany</td>
            <td>
                <a style="color:blue;cursor:pointer;" onclick="updateRow(this);" >修改</a>
                &nbsp<a style="color:blue;cursor:pointer;" onclick="delRow(this);">删除</a>
            </td>
        </tr>
        <tr>
            <td>Koniglich Essen</td>
            <td>Germany</td>
            <td> 原文链接 </td>
            <td>*</td>
            <td>Germany</td>
            <td>
                <a style="color:blue;cursor:pointer;" onclick="updateRow(this);" >修改</a>
                &nbsp<a style="color:blue;cursor:pointer;" onclick="delRow(this);">删除</a>
            </td>
        </tr>
    </table>
    <span id="spanFirst">第一页</span>
    <span id="spanPre">上一页</span>
    <span id="spanNext">下一页</span>
    <span id="spanLast">最后一页</span>
    第<span id="spanPageNum"></span>页/共<span id="spanTotalPage"></span>页
</div>


<div style="display:none" id="addinfo">
    <form>
        <br>
        编号<br><input type="text" id="paperId" /><br><!--限制用户名只能用英文 下划线 或数字-->
        论文题目<br><input type="text" id="paperTitle"/><br>
        原文链接<br><input type="text" id="paperLink"/><br>
        关键词<br><input type="text" id="paperKey"/><br>
        概述<br><input type="text" id="paperSummer"/>
        <br>
        <input type="button" value="添加" onclick="addInfo()" id="btn_add">
        <input type="button" value="修改" onclick="updateInfo()" style="display:none" id="btn_update">
        <input type="button" value="取消" onclick="hideAddInput()">
    </form>
</div>

</body>
</html>
<script>
    // JavaScript Document By lishewen
    var theTable = document.getElementById("myTable");
    var totalPage = document.getElementById("spanTotalPage");
    var pageNum = document.getElementById("spanPageNum");

    var spanPre = document.getElementById("spanPre");
    var spanNext = document.getElementById("spanNext");
    var spanFirst = document.getElementById("spanFirst");
    var spanLast = document.getElementById("spanLast");

    var totalPaget = document.getElementById("spanTotalPaget");
    var pageNumt = document.getElementById("spanPageNumt");

    var spanPret = document.getElementById("spanPret");
    var spanNextt = document.getElementById("spanNextt");
    var spanFirstt = document.getElementById("spanFirstt");
    var spanLastt = document.getElementById("spanLastt");

    var numberRowsInTable = theTable.rows.length;
    var pageSize = 6;
    var page = 1;

    //下一页
    function next(){

        hideTable();

        currentRow = pageSize * page;
        maxRow = currentRow + pageSize;
        if ( maxRow > numberRowsInTable ) maxRow = numberRowsInTable;
        for ( var i = currentRow; i< maxRow; i++ ){
            theTable.rows[i].style.display = '';
        }
        page++;

        if ( maxRow == numberRowsInTable ) { nextText(); lastText(); }
        showPage();
        preLink();
        firstLink();
    }

    //上一页
    function pre(){

        hideTable();

        page--;

        currentRow = pageSize * page;
        maxRow = currentRow - pageSize;
        if ( currentRow > numberRowsInTable ) currentRow = numberRowsInTable;
        for ( var i = maxRow; i< currentRow; i++ ){
            theTable.rows[i].style.display = '';
        }


        if ( maxRow == 0 ){ preText(); firstText(); }
        showPage();
        nextLink();
        lastLink();
    }

    //第一页
    function first(){
        hideTable();
        page = 1;
        for ( var i = 0; i<pageSize; i++ ){
            theTable.rows[i].style.display = '';
        }
        showPage();

        preText();
        nextLink();
        lastLink();
    }

    //最后一页
    function last(){
        hideTable();
        page = pageCount();
        currentRow = pageSize * (page - 1);
        for ( var i = currentRow; i<numberRowsInTable; i++ ){
            theTable.rows[i].style.display = '';
        }
        showPage();

        preLink();
        nextText();
        firstLink();
    }

    function hideTable(){
        for ( var i = 0; i<numberRowsInTable; i++ ){
            theTable.rows[i].style.display = 'none';
        }
    }

    function showPage(){
        pageNum.innerHTML = page;
        pageNumt.innerHTML = page;
    }

    //总共页数
    function pageCount(){
        var count = 0;
        if ( numberRowsInTable%pageSize != 0 ) count = 1;
        return parseInt(numberRowsInTable/pageSize) + count;
    }

    //显示链接
    function preLink(){ spanPre.innerHTML = "<a href='javascript:pre();'>上一页</a>"; spanPret.innerHTML = "<a href='javascript:pre();'>上一页</a>";}
    function preText(){ spanPre.innerHTML = "上一页"; spanPret.innerHTML = "上一页"; }

    function nextLink(){ spanNext.innerHTML = "<a href='javascript:next();'>下一页</a>"; spanNextt.innerHTML = "<a href='javascript:next();'>下一页</a>";}
    function nextText(){ spanNext.innerHTML = "下一页"; spanNextt.innerHTML = "下一页";}

    function firstLink(){ spanFirst.innerHTML = "<a href='javascript:first();'>第一页</a>"; spanFirstt.innerHTML = "<a href='javascript:first();'>第一页</a>";}
    function firstText(){ spanFirst.innerHTML = "第一页"; spanFirstt.innerHTML = "第一页";}

    function lastLink(){ spanLast.innerHTML = "<a href='javascript:last();'>最后一页</a>"; spanLastt.innerHTML = "<a href='javascript:last();'>最后一页</a>";}
    function lastText(){ spanLast.innerHTML = "最后一页"; spanLastt.innerHTML = "最后一页";}

    //隐藏表格
    function hide(){
        for ( var i = pageSize; i<numberRowsInTable; i++ ){
            theTable.rows[i].style.display = 'none';
        }

        totalPage.innerHTML = pageCount();
        pageNum.innerHTML = '1';

        totalPaget.innerHTML = pageCount();
        pageNumt.innerHTML = '1';

        nextLink();
        lastLink();
    }

    hide();
</script>